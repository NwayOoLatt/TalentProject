<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
	<meta charset="utf-8" />
	<!-- <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    Tell the browser to be responsive to screen width
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/> -->
	<!-- Favicon icon -->
	<link rel="icon" type="image/png" sizes="16x16"
		href="../assets/images/favicon.png" />
	<title>Personal Accident Insurance Group 4</title>
	<!-- Custom CSS -->
	<link href="dist/css/style.css" rel="stylesheet" />

	<style type="text/css">
i {
	margin-right: 10px;
}

.ui-grid-col-3 {
	padding: 4px 10px;
}
.topbar .top-navbar {
    min-height: 10px;
    padding: 0px;
    height: 48px;
}
</style>

</h:head>
<h:body class="skin-default-dark fixed-layout">
	<!-- ============================================================== -->
	<!-- Preloader - style you can find in spinners.css -->
	<!-- ============================================================== -->
	<div class="preloader">
		<div class="loader">
			<div class="loader__figure"></div>
			<p class="loader__label">Elegant admin</p>
		</div>
	</div>
	<!-- ============================================================== -->
	<!-- Main wrapper - style you can find in pages.scss -->
	<!-- ============================================================== -->
	<div id="main-wrapper">
		<!-- ============================================================== -->
		<!-- Topbar header - style you can find in pages.scss -->
		<!-- ============================================================== -->
		<header class="topbar"> <nav
			class="navbar top-navbar navbar-expand-md navbar-dark"> <!-- ============================================================== -->
		<!-- Logo --> <!-- ============================================================== -->
		<div class="navbar-header">
			
		</div>
		<!-- ============================================================== -->
		<!-- End Logo --> <!-- ============================================================== -->
		<div class="navbar-collapse">
			<!-- ============================================================== -->
			<!-- toggle and nav items -->
			<!-- ============================================================== -->
			<ul class="navbar-nav mr-auto">
				<!-- This is  -->
				
			</ul>
			<ul class="navbar-nav my-lg-0">
				<!-- ============================================================== -->
				<!-- User profile and search -->
				<!-- ============================================================== -->
				
                          <li class="nav-item dropdown">
                             <p style="color:blue;margin-right: 30px;margin-left:500px;margin-top:10px;font-size:20px"><i class="fa fa-user-circle"  style="font-size:30px"></i> #{user}</p>                        </li>
                        
				<!-- ============================================================== -->
				<!-- User profile and search -->
				<!-- ============================================================== -->
			</ul>
		</div>
		</nav> </header>
		<!-- ============================================================== -->
		<!-- End Topbar header -->
		<!-- ============================================================== -->
		<!-- ============================================================== -->
		<!-- Left Sidebar - style you can find in sidebar.scss  -->
		<!-- ============================================================== -->
		<aside class="left-sidebar">
		<div class="d-flex no-block nav-text-box align-items-center">
			<span><img src="images/"
				alt="elegant admin template" /></span> <a
				class="waves-effect waves-dark ml-auto hidden-sm-down"
				href="javascript:void(0)"></a> <a
				class="nav-toggler waves-effect waves-dark ml-auto hidden-sm-up"
				href="javascript:void(0)"></a>
		</div>
		<!-- Sidebar scroll-->
		<div class="scroll-sidebar">
			<!-- Sidebar navigation-->
			<nav class="sidebar-nav"> <h:form>
				<ul id="sidebarnav">
					
					<li><p:commandLink
							action="#{proposalController.idGenerate()}" ajax="false"
							class="waves-effect waves-dark" aria-expanded="false">
							<i class="fa fa-file-text" aria-hidden="true"></i>
							<span class="hide-menu"></span>Online Proposal</p:commandLink></li>
							
					<li><p:commandLink
							action="#{proposalController.statusCheck()}" ajax="false"
							class="waves-effect waves-dark" aria-expanded="false">
							 <i class="fa fa-eye" aria-hidden="true"></i>
							<span class="hide-menu"></span>Status Checking</p:commandLink></li>
					<li><p:commandLink
							action="paymentform.xhtml" ajax="false"
							class="waves-effect waves-dark" aria-expanded="false">
								<i class="fa fa-dollar" aria-hidden="true"></i>
							<span class="hide-menu"></span>Add Payment</p:commandLink></li>
					
					<li><a class="waves-effect waves-dark" href="claimform.xhtml"
						aria-expanded="false"><i class="fa fa-wheelchair"></i><span
							class="hide-menu"></span>Claim</a></li>
					<li><p:commandLink
							action="#{policyController.policylisting()}" ajax="false"
							class="waves-effect waves-dark" aria-expanded="false">
							<i class="fa fa-list" aria-hidden="true"></i>
							<span class="hide-menu"></span>Policy Listing</p:commandLink></li>
					<li><p:commandLink
							action="#{userController.userLogout()}" ajax="false"
							class="btn waves-effect waves-light btn-success hidden-md-down">
							
							Log Out</p:commandLink></li>
					
				</ul>
			</h:form> </nav>
			<!-- End Sidebar navigation -->
		</div>
		<!-- End Sidebar scroll--> </aside>
		<!-- ============================================================== -->
		<!-- End Left Sidebar - style you can find in sidebar.scss  -->
		<!-- ============================================================== -->
		<!-- ============================================================== -->
		<!-- Page wrapper  -->
		<!-- ============================================================== -->
		<div class="page-wrapper">
			<!-- ============================================================== -->
			<!-- Container fluid  -->
			<!-- ============================================================== -->
			<div class="container-fluid">
				<!-- ============================================================== -->
				<!-- Bread crumb and right sidebar toggle -->
				<!-- ============================================================== -->
				<div class="row page-titles">
					<div class="col-md-5 align-self-center">
						
					</div>
					<c:set var="flag" value="#{proposalController.infoflag}" />
									<c:if test="${flag == true}">
							<div class="col-md-7 align-self-center text-right">
						<div class="d-flex justify-content-end align-items-center">
							<div class="alert alert-info alert-dismissible">
							<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
								<strong>Info!</strong> <p:outputLabel value="#{proposalController.info}"></p:outputLabel>
							</div>
						</div>
					</div>
							</c:if>
					
					
				</div>
				<!-- ============================================================== -->
				<!-- End Bread crumb and right sidebar toggle -->
				<!-- ============================================================== -->
				<!-- ============================================================== -->
				<!-- Start Page Content -->
				<!-- ============================================================== -->
				<div class="row">
					<div class="col-12">
						<div class="card">
							<div class="card-body">
								<h:form>
									<p:growl id="growl" showDetail="false" sticky="true"
										life="2000" />


									<p:dataTable var="plist" value="#{proposalController.plist}">
										<p:column headerText="No">
											<h:outputText value="#{plist.count}" />
										</p:column>

										<p:column headerText="Name">
											<h:outputText value="#{plist.name}" />
										</p:column>

										<p:column headerText="Proposal No.">
											<h:outputText value="#{plist.p_no}" />
										</p:column>

										<p:column headerText="Status">
											<h:outputText value="#{plist.status_checking}" />
										</p:column>

										<p:column headerText="Detail">
											<p:commandLink
												action="#{proposalController.detailProposal(plist)}"
												ajax="false" value="Detail" style="color:green">
												<i class="fa fa-check" aria-hidden="true"></i>


											</p:commandLink>
										</p:column>

										<p:column headerText="Option" style="width:260px;">


											<p:commandButton id="Edit" icon="fa fa-edit" value="Edit"
												title="Edit"
												action="#{proposalController.editProposal(plist)}"
												style="width:120px;" />&nbsp;&nbsp;&nbsp;
											
											<p:commandButton id="Delete" icon="fa fa-trash"
												value="Delete" title="Delete"
												action="#{proposalController.deleteProposal(plist)}"
												update="@form" style="width:120px;" />

										</p:column>



										<p:column headerText="Add Payment">
											
											<p:commandLink
												action="#{paymentController.addPayment(plist)}">
												<!-- <i class="fa fa-money" style="font-size:30px"></i> -->
												<img src="../assets/images/phone.png" alt="payment"
													width="30" />


											</p:commandLink>
										</p:column>

									</p:dataTable>
								</h:form>


							</div>
						</div>
					</div>
				</div>
				<!-- ============================================================== -->
				<!-- End PAge Content -->
				<!-- ============================================================== -->
			</div>
			<!-- ============================================================== -->
			<!-- End Container fluid  -->
			<!-- ============================================================== -->
		</div>
		<!-- ============================================================== -->
		<!-- End Page wrapper  -->
		<!-- ============================================================== -->
		<!-- ============================================================== -->
		<!-- footer -->
		<!-- ============================================================== -->
		<center><footer class="footer"> © 2020 Personal Accident Insurance
		Group 4.com </footer></center>
		<!-- ============================================================== -->
		<!-- End footer -->
		<!-- ============================================================== -->
	</div>
	<!-- ============================================================== -->
	<!-- End Wrapper -->
	<!-- ============================================================== -->
	<!-- ============================================================== -->
	<!-- All Jquery -->
	<!-- ============================================================== -->
	<!-- <script src="assets/node_modules/jquery/jquery-3.2.1.min.js"></script>
    Bootstrap tether Core JavaScript
    <script src="assets/node_modules/popper/popper.min.js"></script>
    <script src="assets/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    slimscrollbar scrollbar JavaScript
    <script src="dist/js/perfect-scrollbar.jquery.min.js"></script>
    Wave Effects
    <script src="dist/js/waves.js"></script>
    Menu sidebar
    <script src="dist/js/sidebarmenu.js"></script>
    stickey kit
    <script src="assets/node_modules/sticky-kit-master/dist/sticky-kit.min.js"></script>
    <script src="assets/node_modules/sparkline/jquery.sparkline.min.js"></script> -->
	<!--Custom JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<script src="dist/js/custom.min.js"></script>
	<script type="text/javascript"
		src="https://code.jquery.com/jquery-1.12.4.js" />
	<script type="text/javascript"
		src="https://code.jquery.com/ui/1.12.1/jquery-ui.js" />
	<link rel="stylesheet"
		href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
	<script>
		$(document).ready(function() {
			$(".datepicker").datepicker({
				dateFormat : 'dd MM, yy',
				changeMonth : true,
				changeYear : true,
				yearRange : "1960:2017"
			});
		});
	</script>
</h:body>
</html>
